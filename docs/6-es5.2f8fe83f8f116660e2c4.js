function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{r3Xp:function(e,t,n){"use strict";n.r(t),n.d(t,"MainPageModule",(function(){return U}));var r,i,o=n("ofXK"),c=n("tyNb"),a=n("fXoL"),s=n("0IaG"),l=n("3Pt+"),u=n("+fGH"),d=n("WAaD"),b=n("2Vo4"),g=((r=function(){function e(t){_classCallCheck(this,e),this.databaseService=t,this.sources$=new b.a([]),this.currentArticles$=new b.a([]),this.filteredArticles$=new b.a(null),this.currentSource$=new b.a(null);var n=this.databaseService.getAll(u.a.Articles);this.setInitialSources(n),this.setInitialArticles(n)}return _createClass(e,[{key:"getSources",value:function(){return this.sources$}},{key:"setSources",value:function(e){this.sources$.next(e)}},{key:"getCurrentSource",value:function(){return this.currentSource$}},{key:"setCurrentSource",value:function(e){this.currentSource$.next(e);var t=this.databaseService.getAll(u.a.Articles);this.filterArticles(t)}},{key:"getCurrentArticles",value:function(){return this.currentArticles$}},{key:"getFilteredArticles",value:function(){return this.filteredArticles$}},{key:"addSource",value:function(e){var t=this.sources$.value;t.includes(e)||this.setSources([].concat(_toConsumableArray(t),[e]))}},{key:"addArticle",value:function(e){var t=this.currentArticles$.value;this.currentArticles$.next((null==t?void 0:t.length)?[].concat(_toConsumableArray(t),[e]):[e]),this.filterCurrentArticles(this.filterValue)}},{key:"setAllArticles",value:function(){var e=this.databaseService.getAll(u.a.Articles);this.currentArticles$.next(e),this.filterCurrentArticles(this.filterValue)}},{key:"filterCurrentArticles",value:function(e){this.filterValue=e;var t=this.currentArticles$.value;e&&(null==t?void 0:t.length)?(e=e.toLocaleLowerCase(),this.filteredArticles$.next(t.filter((function(t){return t.heading.toLocaleLowerCase().includes(e)||t.author.toLocaleLowerCase().includes(e)||t.shortDescription.toLocaleLowerCase().includes(e)||t.fullDescription.toLocaleLowerCase().includes(e)})))):this.filteredArticles$.next(t)}},{key:"setInitialSources",value:function(e){if(null==e?void 0:e.length){var t=e.reduce((function(e,t){return e.includes(t.source)||e.push(t.source),e}),[]);this.setSources(t),this.setCurrentSource(t[0])}else this.setSources([]),this.setCurrentSource(null)}},{key:"setInitialArticles",value:function(e){this.currentSource$.value?this.filterArticles(e):this.currentArticles$.next([])}},{key:"filterArticles",value:function(e){var t=this.currentSource$.value;if(console.log(e,this.currentSource$.value),e){var n=e.filter((function(e){return e.source===t}));this.currentArticles$.next(n)}else this.currentArticles$.next([]);this.filterCurrentArticles(this.filterValue)}}]),e}()).\u0275fac=function(e){return new(e||r)(a.Yb(d.a))},r.\u0275prov=a.Kb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),f=n("bTqV"),p=((i=function(){function e(t,n,r,i){_classCallCheck(this,e),this.dialogRef=t,this.data=n,this.databaseService=r,this.articlesService=i,this.createArticleForm=new l.e({heading:new l.c("",l.o.required),shortDescription:new l.c("",l.o.required),fullDescription:new l.c("",l.o.required),date:new l.c("",l.o.required),author:new l.c("",l.o.required),source:new l.c("",l.o.required),imageUrl:new l.c("",l.o.required)})}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.dialogRef.close()}},{key:"save",value:function(){var e=this.databaseService.saveEntity(u.a.Articles,this.createArticleForm.value);e&&(this.articlesService.addSource(e.source),this.articlesService.addArticle(e)),this.close()}}]),e}()).\u0275fac=function(e){return new(e||i)(a.Ob(s.d),a.Ob(s.a),a.Ob(d.a),a.Ob(g))},i.\u0275cmp=a.Ib({type:i,selectors:[["app-create-news-dialog"]],decls:40,vars:4,consts:[[1,"add-article-container"],[1,"header"],[1,"title"],[1,"form-container",3,"formGroup"],[1,"left-column-container"],[1,"heading-container"],[1,"input-label"],["formControlName","heading",1,"form-input"],[1,"description-container"],["formControlName","shortDescription",1,"form-input"],[1,"content-form-field"],["formControlName","fullDescription",1,"content-input"],[1,"right-column-container"],[1,"date-container"],["formControlName","date",1,"form-input"],[1,"author-container"],["formControlName","author",1,"form-input"],[1,"source-container"],["formControlName","source",1,"form-input"],[1,"image-url-container"],["formControlName","imageUrl",1,"form-input"],[1,"buttons-container"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"span",2),a.zc(3,"Create News"),a.Tb(),a.Tb(),a.Ub(4,"form",3),a.Ub(5,"div",4),a.Ub(6,"div",5),a.Ub(7,"span",6),a.zc(8,"Heading"),a.Tb(),a.Pb(9,"input",7),a.Tb(),a.Ub(10,"div",8),a.Ub(11,"span",6),a.zc(12,"Short description"),a.Tb(),a.Pb(13,"input",9),a.Tb(),a.Ub(14,"div",10),a.Ub(15,"span",6),a.zc(16,"Content"),a.Tb(),a.Pb(17,"textarea",11),a.Tb(),a.Tb(),a.Ub(18,"div",12),a.Ub(19,"div",13),a.Ub(20,"span",6),a.zc(21,"Date"),a.Tb(),a.Pb(22,"input",14),a.Tb(),a.Ub(23,"div",15),a.Ub(24,"span",6),a.zc(25,"Author"),a.Tb(),a.Pb(26,"input",16),a.Tb(),a.Ub(27,"div",17),a.Ub(28,"span",6),a.zc(29,"Source"),a.Tb(),a.Pb(30,"input",18),a.Tb(),a.Ub(31,"div",19),a.Ub(32,"span",6),a.zc(33,"Image URL"),a.Tb(),a.Pb(34,"input",20),a.Tb(),a.Ub(35,"div",21),a.Ub(36,"button",22),a.cc("click",(function(){return t.save()})),a.zc(37,"Save"),a.Tb(),a.Ub(38,"button",23),a.cc("click",(function(){return t.close()})),a.zc(39,"Cancel"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Cb(4),a.lc("formGroup",t.createArticleForm),a.Cb(32),a.Fb("disabled",!t.createArticleForm.valid),a.lc("disabled",!t.createArticleForm.valid))},directives:[l.q,l.k,l.f,l.b,l.j,l.d,f.a],styles:[".add-article-container[_ngcontent-%COMP%]{width:100%;height:100%}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#c1c9d6;display:flex;align-items:center;justify-content:center}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 80px);display:flex;flex-direction:row}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .left-column-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]{box-sizing:border-box;padding:25px;width:50%;height:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:25px;box-sizing:border-box}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{background-color:#969da8!important}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c1c9d6;border:1px solid #000;width:100px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .author-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-form-field[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .image-url-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .source-container[_ngcontent-%COMP%]{margin-top:20px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px;width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;box-sizing:border-box;height:25vh;width:100%;padding:5px;resize:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{margin-bottom:5px;display:block}"]}),i);function h(e,t){if(1&e&&(a.Ub(0,"option",13),a.zc(1),a.Tb()),2&e){var n=t.$implicit,r=a.gc();a.lc("selected",n===r.selectedSource)("value",n),a.Cb(1),a.Ac(n)}}var C,m,_=((m=function(){function e(t,n){_classCallCheck(this,e),this.dialog=t,this.articlesService=n}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.articlesService.getSources().subscribe((function(t){e.sources=t})),this.articlesService.getCurrentSource().subscribe((function(t){e.selectedSource=t}))}},{key:"onSelectChange",value:function(e){"All Sources"!==e?this.articlesService.setCurrentSource(e):(this.selectedSource=e,this.articlesService.setAllArticles())}},{key:"openCreateArticleDialog",value:function(){this.dialog.open(p,{width:"60vw",height:"70vh",panelClass:"add-news-dialog-container"})}},{key:"filterArticles",value:function(e){this.articlesService.filterCurrentArticles(e)}}]),e}()).\u0275fac=function(e){return new(e||m)(a.Ob(s.b),a.Ob(g))},m.\u0275cmp=a.Ib({type:m,selectors:[["app-header"]],decls:19,vars:2,consts:[[1,"source-container"],[1,"source-title"],[1,"options-container"],[1,"select-container"],[1,"select",3,"change"],["disabled","","selected",""],[3,"selected","value",4,"ngFor","ngForOf"],[1,"filter-container",3,"formGroup"],["placeholder","Type your text...",1,"filter-input"],["filter",""],["mat-raised-button","",1,"filter-button",3,"click"],[1,"add-news-container"],["mat-raised-button","",1,"add-button",3,"click"],[3,"selected","value"]],template:function(e,t){if(1&e){var n=a.Vb();a.Ub(0,"div",0),a.Ub(1,"span",1),a.zc(2),a.Tb(),a.Tb(),a.Ub(3,"div",2),a.Ub(4,"div",3),a.Ub(5,"select",4),a.cc("change",(function(e){return t.onSelectChange(null==e||null==e.target?null:e.target.value)})),a.Ub(6,"option",5),a.zc(7,"Select source"),a.Tb(),a.Ub(8,"option"),a.zc(9,"All Sources"),a.Tb(),a.xc(10,h,2,3,"option",6),a.Tb(),a.Tb(),a.Ub(11,"div",7),a.Pb(12,"input",8,9),a.Ub(14,"button",10),a.cc("click",(function(){a.rc(n);var e=a.pc(13);return t.filterArticles(e.value)})),a.zc(15,"Filter"),a.Tb(),a.Tb(),a.Ub(16,"div",11),a.Ub(17,"button",12),a.cc("click",(function(){return t.openCreateArticleDialog()})),a.zc(18,"Add Article"),a.Tb(),a.Tb(),a.Tb()}2&e&&(a.Cb(2),a.Ac(t.selectedSource||"Please, select source"),a.Cb(8),a.lc("ngForOf",t.sources))},directives:[l.m,l.p,o.j,l.k,l.f,f.a],styles:[".source-container[_ngcontent-%COMP%]{background-color:#c1c9d6;box-sizing:border-box;border:solid #000;border-width:2px 2px 1px;height:80px;width:100%;display:flex;align-items:center;justify-content:center}.source-container[_ngcontent-%COMP%]   .source-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.options-container[_ngcontent-%COMP%]{height:80px;width:100%;box-sizing:border-box;border:2px solid #000;border-top:1px solid #000;display:flex;flex-direction:row;justify-content:space-between}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-start}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{box-sizing:border-box;margin-left:50px;width:50%;height:35px;border:1px solid #000;border-radius:6px;padding-left:10px}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:center}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{margin-left:10px;background-color:#c1c9d6;border:1px solid #000}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-end}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:50px;background-color:#c1c9d6;border:1px solid #000}"]}),m),O=((C=function(){function e(t){_classCallCheck(this,e),this.router=t}return _createClass(e,[{key:"ngOnInit",value:function(){}},{key:"redirectToArticlePage",value:function(){this.router.navigate(["/news/".concat(this.newsItem.id)])}}]),e}()).\u0275fac=function(e){return new(e||C)(a.Ob(c.b))},C.\u0275cmp=a.Ib({type:C,selectors:[["app-news-list-item"]],inputs:{newsItem:"newsItem"},decls:15,vars:4,consts:[[1,"list-item-container",3,"click"],[1,"image-container"],[3,"src"],[1,"short-description-container"],[1,"info-container"],[1,"heading"],[1,"short-description"],[1,"read-more-container"],[1,"read-more-text"],[1,"date-container"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.cc("click",(function(){return t.redirectToArticlePage()})),a.Ub(1,"div",1),a.Pb(2,"img",2),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Ub(5,"span",5),a.zc(6),a.Tb(),a.Ub(7,"span",6),a.zc(8),a.Tb(),a.Tb(),a.Ub(9,"div",7),a.Ub(10,"span",8),a.zc(11,"Read more..."),a.Tb(),a.Tb(),a.Tb(),a.Ub(12,"div",9),a.Ub(13,"span"),a.zc(14),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.lc("src",t.newsItem.imageUrl,a.sc),a.Cb(4),a.Ac(t.newsItem.heading),a.Cb(2),a.Ac(t.newsItem.shortDescription),a.Cb(6),a.Bc("Date: ",t.newsItem.date,""))},styles:[".list-item-container[_ngcontent-%COMP%]{height:150px;width:100%;border:2px solid #000;margin-top:30px;display:flex;flex-direction:row}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:150px;height:100%;display:flex;align-items:center;justify-content:center}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]{overflow-y:auto;width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px;display:flex;flex-direction:column;justify-content:space-between}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{margin-top:10px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .read-more-container[_ngcontent-%COMP%]   .read-more-text[_ngcontent-%COMP%]{cursor:pointer}.list-item-container[_ngcontent-%COMP%]   .date-container[_ngcontent-%COMP%]{width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px}"]}),C);function P(e,t){1&e&&a.Pb(0,"app-news-list-item",3),2&e&&a.lc("newsItem",t.$implicit)}var v,M,x,y,w=((v=function(){function e(t){_classCallCheck(this,e),this.articlesService=t}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.articlesService.getFilteredArticles().subscribe((function(t){e.articles=t})),this.articlesService.getCurrentArticles().subscribe((function(t){e.articles=t}))}}]),e}()).\u0275fac=function(e){return new(e||v)(a.Ob(g))},v.\u0275cmp=a.Ib({type:v,selectors:[["app-news-list"]],decls:3,vars:1,consts:[[1,"news-container"],[1,"list-container"],[3,"newsItem",4,"ngFor","ngForOf"],[3,"newsItem"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.xc(2,P,1,1,"app-news-list-item",2),a.Tb(),a.Tb()),2&e&&(a.Cb(2),a.lc("ngForOf",t.articles))},directives:[o.j,O],styles:[".news-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.news-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:60%;height:100%}"]}),v),A=[{path:"",component:(M=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}(),M.\u0275fac=function(e){return new(e||M)},M.\u0275cmp=a.Ib({type:M,selectors:[["app-main-page"]],decls:2,vars:0,template:function(e,t){1&e&&(a.Pb(0,"app-header"),a.Pb(1,"app-news-list"))},directives:[_,w],styles:[""]}),M)}],T=((x=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:x}),x.\u0275inj=a.Lb({factory:function(e){return new(e||x)},imports:[[c.c.forChild(A)],c.c]}),x),k=n("jAig"),S=n("WJ5W"),U=((y=function e(){_classCallCheck(this,e)}).\u0275mod=a.Mb({type:y}),y.\u0275inj=a.Lb({factory:function(e){return new(e||y)},imports:[[o.c,T,k.a,l.n,S.a]]}),y)}}]);