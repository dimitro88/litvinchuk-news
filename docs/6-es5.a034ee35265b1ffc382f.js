function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{r3Xp:function(t,e,n){"use strict";n.r(e),n.d(e,"MainPageModule",(function(){return U}));var r,i,o=n("ofXK"),c=n("tyNb"),a=n("fXoL"),s=n("0IaG"),l=n("3Pt+"),u=n("+fGH"),d=n("WAaD"),b=n("2Vo4"),g=((r=function(){function t(e){_classCallCheck(this,t),this.databaseService=e,this.sources$=new b.a([]),this.currentArticles$=new b.a([]),this.filteredArticles$=new b.a(null),this.currentSource$=new b.a(null);var n=this.databaseService.getAll(u.a.Articles);this.setInitialSources(n),this.setInitialArticles(n)}return _createClass(t,[{key:"getSources",value:function(){return this.sources$}},{key:"setSources",value:function(t){this.sources$.next(t)}},{key:"getCurrentSource",value:function(){return this.currentSource$}},{key:"setCurrentSource",value:function(t){this.currentSource$.next(t);var e=this.databaseService.getAll(u.a.Articles);this.filterArticles(e)}},{key:"getCurrentArticles",value:function(){return this.currentArticles$}},{key:"getFilteredArticles",value:function(){return this.filteredArticles$}},{key:"addSource",value:function(t){var e=this.sources$.value;e.includes(t)||this.setSources([].concat(_toConsumableArray(e),[t]))}},{key:"addArticle",value:function(t){var e=this.currentArticles$.value;this.currentArticles$.next((null==e?void 0:e.length)?[].concat(_toConsumableArray(e),[t]):[t]),this.filterCurrentArticles(this.filterValue)}},{key:"setAllArticles",value:function(){var t=this.databaseService.getAll(u.a.Articles);this.currentArticles$.next(t),this.filterCurrentArticles(this.filterValue)}},{key:"filterCurrentArticles",value:function(t){this.filterValue=t;var e=this.currentArticles$.value;t&&(null==e?void 0:e.length)?(t=t.toLocaleLowerCase(),this.filteredArticles$.next(e.filter((function(e){return e.heading.toLocaleLowerCase().includes(t)||e.author.toLocaleLowerCase().includes(t)||e.shortDescription.toLocaleLowerCase().includes(t)||e.fullDescription.toLocaleLowerCase().includes(t)})))):this.filteredArticles$.next(e)}},{key:"setInitialSources",value:function(t){if(null==t?void 0:t.length){var e=t.reduce((function(t,e){return t.includes(e.source)||t.push(e.source),t}),[]);this.setSources(e),this.setCurrentSource(e[0])}else this.setSources([]),this.setCurrentSource(null)}},{key:"setInitialArticles",value:function(t){this.currentSource$.value?this.filterArticles(t):this.currentArticles$.next([])}},{key:"filterArticles",value:function(t){var e=this.currentSource$.value;if(t){var n=t.filter((function(t){return t.source===e}));this.currentArticles$.next(n)}this.currentArticles$.next([]),this.filterCurrentArticles(this.filterValue)}}]),t}()).\u0275fac=function(t){return new(t||r)(a.Yb(d.a))},r.\u0275prov=a.Kb({token:r,factory:r.\u0275fac,providedIn:"root"}),r),f=n("bTqV"),p=((i=function(){function t(e,n,r,i){_classCallCheck(this,t),this.dialogRef=e,this.data=n,this.databaseService=r,this.articlesService=i,this.createArticleForm=new l.e({heading:new l.c("",l.o.required),shortDescription:new l.c("",l.o.required),fullDescription:new l.c("",l.o.required),date:new l.c("",l.o.required),author:new l.c("",l.o.required),source:new l.c("",l.o.required),imageUrl:new l.c("",l.o.required)})}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"close",value:function(){this.dialogRef.close()}},{key:"save",value:function(){var t=this.databaseService.saveEntity(u.a.Articles,this.createArticleForm.value);t&&(this.articlesService.addSource(t.source),this.articlesService.addArticle(t)),this.close()}}]),t}()).\u0275fac=function(t){return new(t||i)(a.Ob(s.d),a.Ob(s.a),a.Ob(d.a),a.Ob(g))},i.\u0275cmp=a.Ib({type:i,selectors:[["app-create-news-dialog"]],decls:40,vars:4,consts:[[1,"add-article-container"],[1,"header"],[1,"title"],[1,"form-container",3,"formGroup"],[1,"left-column-container"],[1,"heading-container"],[1,"input-label"],["formControlName","heading",1,"form-input"],[1,"description-container"],["formControlName","shortDescription",1,"form-input"],[1,"content-form-field"],["formControlName","fullDescription",1,"content-input"],[1,"right-column-container"],[1,"date-container"],["formControlName","date",1,"form-input"],[1,"author-container"],["formControlName","author",1,"form-input"],[1,"source-container"],["formControlName","source",1,"form-input"],[1,"image-url-container"],["formControlName","imageUrl",1,"form-input"],[1,"buttons-container"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Ub(2,"span",2),a.zc(3,"Create News"),a.Tb(),a.Tb(),a.Ub(4,"form",3),a.Ub(5,"div",4),a.Ub(6,"div",5),a.Ub(7,"span",6),a.zc(8,"Heading"),a.Tb(),a.Pb(9,"input",7),a.Tb(),a.Ub(10,"div",8),a.Ub(11,"span",6),a.zc(12,"Short description"),a.Tb(),a.Pb(13,"input",9),a.Tb(),a.Ub(14,"div",10),a.Ub(15,"span",6),a.zc(16,"Content"),a.Tb(),a.Pb(17,"textarea",11),a.Tb(),a.Tb(),a.Ub(18,"div",12),a.Ub(19,"div",13),a.Ub(20,"span",6),a.zc(21,"Date"),a.Tb(),a.Pb(22,"input",14),a.Tb(),a.Ub(23,"div",15),a.Ub(24,"span",6),a.zc(25,"Author"),a.Tb(),a.Pb(26,"input",16),a.Tb(),a.Ub(27,"div",17),a.Ub(28,"span",6),a.zc(29,"Source"),a.Tb(),a.Pb(30,"input",18),a.Tb(),a.Ub(31,"div",19),a.Ub(32,"span",6),a.zc(33,"Image URL"),a.Tb(),a.Pb(34,"input",20),a.Tb(),a.Ub(35,"div",21),a.Ub(36,"button",22),a.cc("click",(function(){return e.save()})),a.zc(37,"Save"),a.Tb(),a.Ub(38,"button",23),a.cc("click",(function(){return e.close()})),a.zc(39,"Cancel"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(4),a.lc("formGroup",e.createArticleForm),a.Cb(32),a.Fb("disabled",!e.createArticleForm.valid),a.lc("disabled",!e.createArticleForm.valid))},directives:[l.q,l.k,l.f,l.b,l.j,l.d,f.a],styles:[".add-article-container[_ngcontent-%COMP%]{width:100%;height:100%}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#c1c9d6;display:flex;align-items:center;justify-content:center}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 80px);display:flex;flex-direction:row}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .left-column-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]{box-sizing:border-box;padding:25px;width:50%;height:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:25px;box-sizing:border-box}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{background-color:#969da8!important}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c1c9d6;border:1px solid #000;width:100px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .author-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-form-field[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .image-url-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .source-container[_ngcontent-%COMP%]{margin-top:20px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px;width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;box-sizing:border-box;height:25vh;width:100%;padding:5px;resize:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{margin-bottom:5px;display:block}"]}),i);function h(t,e){if(1&t&&(a.Ub(0,"option",13),a.zc(1),a.Tb()),2&t){var n=e.$implicit,r=a.gc();a.lc("selected",n===r.selectedSource)("value",n),a.Cb(1),a.Ac(n)}}var C,m,_=((m=function(){function t(e,n){_classCallCheck(this,t),this.dialog=e,this.articlesService=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.articlesService.getSources().subscribe((function(e){t.sources=e})),this.articlesService.getCurrentSource().subscribe((function(e){t.selectedSource=e}))}},{key:"onSelectChange",value:function(t){"All Sources"!==t?this.articlesService.setCurrentSource(t):(this.selectedSource=t,this.articlesService.setAllArticles())}},{key:"openCreateArticleDialog",value:function(){this.dialog.open(p,{width:"60vw",height:"70vh",panelClass:"add-news-dialog-container"})}},{key:"filterArticles",value:function(t){this.articlesService.filterCurrentArticles(t)}}]),t}()).\u0275fac=function(t){return new(t||m)(a.Ob(s.b),a.Ob(g))},m.\u0275cmp=a.Ib({type:m,selectors:[["app-header"]],decls:19,vars:2,consts:[[1,"source-container"],[1,"source-title"],[1,"options-container"],[1,"select-container"],[1,"select",3,"change"],["disabled","","selected",""],[3,"selected","value",4,"ngFor","ngForOf"],[1,"filter-container",3,"formGroup"],["placeholder","Type your text...",1,"filter-input"],["filter",""],["mat-raised-button","",1,"filter-button",3,"click"],[1,"add-news-container"],["mat-raised-button","",1,"add-button",3,"click"],[3,"selected","value"]],template:function(t,e){if(1&t){var n=a.Vb();a.Ub(0,"div",0),a.Ub(1,"span",1),a.zc(2),a.Tb(),a.Tb(),a.Ub(3,"div",2),a.Ub(4,"div",3),a.Ub(5,"select",4),a.cc("change",(function(t){return e.onSelectChange(null==t||null==t.target?null:t.target.value)})),a.Ub(6,"option",5),a.zc(7,"Select source"),a.Tb(),a.Ub(8,"option"),a.zc(9,"All Sources"),a.Tb(),a.xc(10,h,2,3,"option",6),a.Tb(),a.Tb(),a.Ub(11,"div",7),a.Pb(12,"input",8,9),a.Ub(14,"button",10),a.cc("click",(function(){a.rc(n);var t=a.pc(13);return e.filterArticles(t.value)})),a.zc(15,"Filter"),a.Tb(),a.Tb(),a.Ub(16,"div",11),a.Ub(17,"button",12),a.cc("click",(function(){return e.openCreateArticleDialog()})),a.zc(18,"Add Article"),a.Tb(),a.Tb(),a.Tb()}2&t&&(a.Cb(2),a.Ac(e.selectedSource||"Please, select source"),a.Cb(8),a.lc("ngForOf",e.sources))},directives:[l.m,l.p,o.j,l.k,l.f,f.a],styles:[".source-container[_ngcontent-%COMP%]{background-color:#c1c9d6;box-sizing:border-box;border:solid #000;border-width:2px 2px 1px;height:80px;width:100%;display:flex;align-items:center;justify-content:center}.source-container[_ngcontent-%COMP%]   .source-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.options-container[_ngcontent-%COMP%]{height:80px;width:100%;box-sizing:border-box;border:2px solid #000;border-top:1px solid #000;display:flex;flex-direction:row;justify-content:space-between}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-start}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{box-sizing:border-box;margin-left:50px;width:50%;height:35px;border:1px solid #000;border-radius:6px;padding-left:10px}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:center}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{margin-left:10px;background-color:#c1c9d6;border:1px solid #000}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-end}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:50px;background-color:#c1c9d6;border:1px solid #000}"]}),m),O=((C=function(){function t(e){_classCallCheck(this,t),this.router=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"redirectToArticlePage",value:function(){this.router.navigate(["/news/".concat(this.newsItem.id)])}}]),t}()).\u0275fac=function(t){return new(t||C)(a.Ob(c.b))},C.\u0275cmp=a.Ib({type:C,selectors:[["app-news-list-item"]],inputs:{newsItem:"newsItem"},decls:15,vars:4,consts:[[1,"list-item-container",3,"click"],[1,"image-container"],[3,"src"],[1,"short-description-container"],[1,"info-container"],[1,"heading"],[1,"short-description"],[1,"read-more-container"],[1,"read-more-text"],[1,"date-container"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.cc("click",(function(){return e.redirectToArticlePage()})),a.Ub(1,"div",1),a.Pb(2,"img",2),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Ub(5,"span",5),a.zc(6),a.Tb(),a.Ub(7,"span",6),a.zc(8),a.Tb(),a.Tb(),a.Ub(9,"div",7),a.Ub(10,"span",8),a.zc(11,"Read more..."),a.Tb(),a.Tb(),a.Tb(),a.Ub(12,"div",9),a.Ub(13,"span"),a.zc(14),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.lc("src",e.newsItem.imageUrl,a.sc),a.Cb(4),a.Ac(e.newsItem.heading),a.Cb(2),a.Ac(e.newsItem.shortDescription),a.Cb(6),a.Bc("Date: ",e.newsItem.date,""))},styles:[".list-item-container[_ngcontent-%COMP%]{height:150px;width:100%;border:2px solid #000;margin-top:30px;display:flex;flex-direction:row}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:150px;height:100%;display:flex;align-items:center;justify-content:center}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]{overflow-y:auto;width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px;display:flex;flex-direction:column;justify-content:space-between}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{margin-top:10px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .read-more-container[_ngcontent-%COMP%]   .read-more-text[_ngcontent-%COMP%]{cursor:pointer}.list-item-container[_ngcontent-%COMP%]   .date-container[_ngcontent-%COMP%]{width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px}"]}),C);function P(t,e){1&t&&a.Pb(0,"app-news-list-item",3),2&t&&a.lc("newsItem",e.$implicit)}var v,M,x,y,w=((v=function(){function t(e){_classCallCheck(this,t),this.articlesService=e}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.articlesService.getFilteredArticles().subscribe((function(e){t.articles=e})),this.articlesService.getCurrentArticles().subscribe((function(e){t.articles=e}))}}]),t}()).\u0275fac=function(t){return new(t||v)(a.Ob(g))},v.\u0275cmp=a.Ib({type:v,selectors:[["app-news-list"]],decls:3,vars:1,consts:[[1,"news-container"],[1,"list-container"],[3,"newsItem",4,"ngFor","ngForOf"],[3,"newsItem"]],template:function(t,e){1&t&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.xc(2,P,1,1,"app-news-list-item",2),a.Tb(),a.Tb()),2&t&&(a.Cb(2),a.lc("ngForOf",e.articles))},directives:[o.j,O],styles:[".news-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.news-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:60%;height:100%}"]}),v),A=[{path:"",component:(M=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}(),M.\u0275fac=function(t){return new(t||M)},M.\u0275cmp=a.Ib({type:M,selectors:[["app-main-page"]],decls:2,vars:0,template:function(t,e){1&t&&(a.Pb(0,"app-header"),a.Pb(1,"app-news-list"))},directives:[_,w],styles:[""]}),M)}],T=((x=function t(){_classCallCheck(this,t)}).\u0275mod=a.Mb({type:x}),x.\u0275inj=a.Lb({factory:function(t){return new(t||x)},imports:[[c.c.forChild(A)],c.c]}),x),k=n("jAig"),S=n("WJ5W"),U=((y=function t(){_classCallCheck(this,t)}).\u0275mod=a.Mb({type:y}),y.\u0275inj=a.Lb({factory:function(t){return new(t||y)},imports:[[o.c,T,k.a,l.n,S.a]]}),y)}}]);