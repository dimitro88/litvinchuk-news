(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{r3Xp:function(t,e,n){"use strict";n.r(e),n.d(e,"MainPageModule",(function(){return x}));var i=n("ofXK"),r=n("tyNb"),c=n("fXoL"),o=n("0IaG"),s=n("3Pt+"),a=n("+fGH"),l=n("WAaD"),d=n("2Vo4");let u=(()=>{class t{constructor(t){this.databaseService=t,this.sources$=new d.a([]),this.currentArticles$=new d.a([]),this.filteredArticles$=new d.a(null),this.currentSource$=new d.a(null);const e=this.databaseService.getAll(a.a.Articles);this.setInitialSources(e),this.setInitialArticles(e)}getSources(){return this.sources$}setSources(t){this.sources$.next(t)}getCurrentSource(){return this.currentSource$}setCurrentSource(t){this.currentSource$.next(t);const e=this.databaseService.getAll(a.a.Articles);this.filterArticles(e)}getCurrentArticles(){return this.currentArticles$}getFilteredArticles(){return this.filteredArticles$}addSource(t){const e=this.sources$.value;e.includes(t)||this.setSources([...e,t])}addArticle(t){const e=this.currentArticles$.value;this.currentArticles$.next((null==e?void 0:e.length)?[...e,t]:[t]),this.filterCurrentArticles(this.filterValue)}setAllArticles(){const t=this.databaseService.getAll(a.a.Articles);this.currentArticles$.next(t),this.filterCurrentArticles(this.filterValue)}filterCurrentArticles(t){this.filterValue=t;const e=this.currentArticles$.value;t&&(null==e?void 0:e.length)?(t=t.toLocaleLowerCase(),this.filteredArticles$.next(e.filter(e=>e.heading.toLocaleLowerCase().includes(t)||e.author.toLocaleLowerCase().includes(t)||e.shortDescription.toLocaleLowerCase().includes(t)||e.fullDescription.toLocaleLowerCase().includes(t)))):this.filteredArticles$.next(e)}setInitialSources(t){if(null==t?void 0:t.length){const e=t.reduce((t,e)=>(t.includes(e.source)||t.push(e.source),t),[]);this.setSources(e),this.setCurrentSource(e[0])}else this.setSources([]),this.setCurrentSource(null)}setInitialArticles(t){this.currentSource$.value?this.filterArticles(t):this.currentArticles$.next([])}filterArticles(t){const e=this.currentSource$.value;if(t){const n=t.filter(t=>t.source===e);this.currentArticles$.next(n)}this.currentArticles$.next([]),this.filterCurrentArticles(this.filterValue)}}return t.\u0275fac=function(e){return new(e||t)(c.Yb(l.a))},t.\u0275prov=c.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n("bTqV");let b=(()=>{class t{constructor(t,e,n,i){this.dialogRef=t,this.data=e,this.databaseService=n,this.articlesService=i,this.createArticleForm=new s.e({heading:new s.c("",s.o.required),shortDescription:new s.c("",s.o.required),fullDescription:new s.c("",s.o.required),date:new s.c("",s.o.required),author:new s.c("",s.o.required),source:new s.c("",s.o.required),imageUrl:new s.c("",s.o.required)})}ngOnInit(){}close(){this.dialogRef.close()}save(){const t=this.databaseService.saveEntity(a.a.Articles,this.createArticleForm.value);t&&(this.articlesService.addSource(t.source),this.articlesService.addArticle(t)),this.close()}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(o.d),c.Ob(o.a),c.Ob(l.a),c.Ob(u))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-create-news-dialog"]],decls:40,vars:4,consts:[[1,"add-article-container"],[1,"header"],[1,"title"],[1,"form-container",3,"formGroup"],[1,"left-column-container"],[1,"heading-container"],[1,"input-label"],["formControlName","heading",1,"form-input"],[1,"description-container"],["formControlName","shortDescription",1,"form-input"],[1,"content-form-field"],["formControlName","fullDescription",1,"content-input"],[1,"right-column-container"],[1,"date-container"],["formControlName","date",1,"form-input"],[1,"author-container"],["formControlName","author",1,"form-input"],[1,"source-container"],["formControlName","source",1,"form-input"],[1,"image-url-container"],["formControlName","imageUrl",1,"form-input"],[1,"buttons-container"],["mat-raised-button","",3,"disabled","click"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"span",2),c.zc(3,"Create News"),c.Tb(),c.Tb(),c.Ub(4,"form",3),c.Ub(5,"div",4),c.Ub(6,"div",5),c.Ub(7,"span",6),c.zc(8,"Heading"),c.Tb(),c.Pb(9,"input",7),c.Tb(),c.Ub(10,"div",8),c.Ub(11,"span",6),c.zc(12,"Short description"),c.Tb(),c.Pb(13,"input",9),c.Tb(),c.Ub(14,"div",10),c.Ub(15,"span",6),c.zc(16,"Content"),c.Tb(),c.Pb(17,"textarea",11),c.Tb(),c.Tb(),c.Ub(18,"div",12),c.Ub(19,"div",13),c.Ub(20,"span",6),c.zc(21,"Date"),c.Tb(),c.Pb(22,"input",14),c.Tb(),c.Ub(23,"div",15),c.Ub(24,"span",6),c.zc(25,"Author"),c.Tb(),c.Pb(26,"input",16),c.Tb(),c.Ub(27,"div",17),c.Ub(28,"span",6),c.zc(29,"Source"),c.Tb(),c.Pb(30,"input",18),c.Tb(),c.Ub(31,"div",19),c.Ub(32,"span",6),c.zc(33,"Image URL"),c.Tb(),c.Pb(34,"input",20),c.Tb(),c.Ub(35,"div",21),c.Ub(36,"button",22),c.cc("click",(function(){return e.save()})),c.zc(37,"Save"),c.Tb(),c.Ub(38,"button",23),c.cc("click",(function(){return e.close()})),c.zc(39,"Cancel"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(4),c.lc("formGroup",e.createArticleForm),c.Cb(32),c.Fb("disabled",!e.createArticleForm.valid),c.lc("disabled",!e.createArticleForm.valid))},directives:[s.q,s.k,s.f,s.b,s.j,s.d,g.a],styles:[".add-article-container[_ngcontent-%COMP%]{width:100%;height:100%}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:80px;width:100%;background-color:#c1c9d6;display:flex;align-items:center;justify-content:center}.add-article-container[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{width:100%;height:calc(100% - 80px);display:flex;flex-direction:row}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .left-column-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]{box-sizing:border-box;padding:25px;width:50%;height:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;padding-top:25px;box-sizing:border-box}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{background-color:#969da8!important}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .right-column-container[_ngcontent-%COMP%]   .buttons-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#c1c9d6;border:1px solid #000;width:100px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .author-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-form-field[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .description-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .image-url-container[_ngcontent-%COMP%], .add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .source-container[_ngcontent-%COMP%]{margin-top:20px}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px;width:100%}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;box-sizing:border-box;height:25vh;width:100%;padding:5px;resize:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .content-input[_ngcontent-%COMP%]:focus{outline:none}.add-article-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{margin-bottom:5px;display:block}"]}),t})();function p(t,e){if(1&t&&(c.Ub(0,"option",13),c.zc(1),c.Tb()),2&t){const t=e.$implicit,n=c.gc();c.lc("selected",t===n.selectedSource)("value",t),c.Cb(1),c.Ac(t)}}let h=(()=>{class t{constructor(t,e){this.dialog=t,this.articlesService=e}ngOnInit(){this.articlesService.getSources().subscribe(t=>{this.sources=t}),this.articlesService.getCurrentSource().subscribe(t=>{this.selectedSource=t})}onSelectChange(t){"All Sources"!==t?this.articlesService.setCurrentSource(t):(this.selectedSource=t,this.articlesService.setAllArticles())}openCreateArticleDialog(){this.dialog.open(b,{width:"60vw",height:"70vh",panelClass:"add-news-dialog-container"})}filterArticles(t){this.articlesService.filterCurrentArticles(t)}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(o.b),c.Ob(u))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-header"]],decls:19,vars:2,consts:[[1,"source-container"],[1,"source-title"],[1,"options-container"],[1,"select-container"],[1,"select",3,"change"],["disabled","","selected",""],[3,"selected","value",4,"ngFor","ngForOf"],[1,"filter-container",3,"formGroup"],["placeholder","Type your text...",1,"filter-input"],["filter",""],["mat-raised-button","",1,"filter-button",3,"click"],[1,"add-news-container"],["mat-raised-button","",1,"add-button",3,"click"],[3,"selected","value"]],template:function(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",0),c.Ub(1,"span",1),c.zc(2),c.Tb(),c.Tb(),c.Ub(3,"div",2),c.Ub(4,"div",3),c.Ub(5,"select",4),c.cc("change",(function(t){return e.onSelectChange(null==t||null==t.target?null:t.target.value)})),c.Ub(6,"option",5),c.zc(7,"Select source"),c.Tb(),c.Ub(8,"option"),c.zc(9,"All Sources"),c.Tb(),c.xc(10,p,2,3,"option",6),c.Tb(),c.Tb(),c.Ub(11,"div",7),c.Pb(12,"input",8,9),c.Ub(14,"button",10),c.cc("click",(function(){c.rc(t);const n=c.pc(13);return e.filterArticles(n.value)})),c.zc(15,"Filter"),c.Tb(),c.Tb(),c.Ub(16,"div",11),c.Ub(17,"button",12),c.cc("click",(function(){return e.openCreateArticleDialog()})),c.zc(18,"Add Article"),c.Tb(),c.Tb(),c.Tb()}2&t&&(c.Cb(2),c.Ac(e.selectedSource||"Please, select source"),c.Cb(8),c.lc("ngForOf",e.sources))},directives:[s.m,s.p,i.j,s.k,s.f,g.a],styles:[".source-container[_ngcontent-%COMP%]{background-color:#c1c9d6;box-sizing:border-box;border:solid #000;border-width:2px 2px 1px;height:80px;width:100%;display:flex;align-items:center;justify-content:center}.source-container[_ngcontent-%COMP%]   .source-title[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.options-container[_ngcontent-%COMP%]{height:80px;width:100%;box-sizing:border-box;border:2px solid #000;border-top:1px solid #000;display:flex;flex-direction:row;justify-content:space-between}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-start}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:100%}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]{box-sizing:border-box;margin-left:50px;width:50%;height:35px;border:1px solid #000;border-radius:6px;padding-left:10px}.options-container[_ngcontent-%COMP%]   .select-container[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:center}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]{border:1px solid #000;border-radius:6px;padding-left:10px;box-sizing:border-box;height:35px}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-input[_ngcontent-%COMP%]:focus{outline:none}.options-container[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .filter-button[_ngcontent-%COMP%]{margin-left:10px;background-color:#c1c9d6;border:1px solid #000}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]{width:33.33333%;display:flex;align-items:center;justify-content:flex-end}.options-container[_ngcontent-%COMP%]   .add-news-container[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{box-sizing:border-box;margin-right:50px;background-color:#c1c9d6;border:1px solid #000}"]}),t})(),f=(()=>{class t{constructor(t){this.router=t}ngOnInit(){}redirectToArticlePage(){this.router.navigate([`/news/${this.newsItem.id}`])}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(r.b))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-news-list-item"]],inputs:{newsItem:"newsItem"},decls:15,vars:4,consts:[[1,"list-item-container",3,"click"],[1,"image-container"],[3,"src"],[1,"short-description-container"],[1,"info-container"],[1,"heading"],[1,"short-description"],[1,"read-more-container"],[1,"read-more-text"],[1,"date-container"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.cc("click",(function(){return e.redirectToArticlePage()})),c.Ub(1,"div",1),c.Pb(2,"img",2),c.Tb(),c.Ub(3,"div",3),c.Ub(4,"div",4),c.Ub(5,"span",5),c.zc(6),c.Tb(),c.Ub(7,"span",6),c.zc(8),c.Tb(),c.Tb(),c.Ub(9,"div",7),c.Ub(10,"span",8),c.zc(11,"Read more..."),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"div",9),c.Ub(13,"span"),c.zc(14),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.lc("src",e.newsItem.imageUrl,c.sc),c.Cb(4),c.Ac(e.newsItem.heading),c.Cb(2),c.Ac(e.newsItem.shortDescription),c.Cb(6),c.Bc("Date: ",e.newsItem.date,""))},styles:[".list-item-container[_ngcontent-%COMP%]{height:150px;width:100%;border:2px solid #000;margin-top:30px;display:flex;flex-direction:row}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{width:150px;height:100%;display:flex;align-items:center;justify-content:center}.list-item-container[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:120px;height:120px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]{overflow-y:auto;width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px;display:flex;flex-direction:column;justify-content:space-between}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   .short-description[_ngcontent-%COMP%]{margin-top:10px}.list-item-container[_ngcontent-%COMP%]   .short-description-container[_ngcontent-%COMP%]   .read-more-container[_ngcontent-%COMP%]   .read-more-text[_ngcontent-%COMP%]{cursor:pointer}.list-item-container[_ngcontent-%COMP%]   .date-container[_ngcontent-%COMP%]{width:calc((100% - 150px)/2);height:100%;box-sizing:border-box;padding:15px}"]}),t})();function C(t,e){1&t&&c.Pb(0,"app-news-list-item",3),2&t&&c.lc("newsItem",e.$implicit)}let m=(()=>{class t{constructor(t){this.articlesService=t}ngOnInit(){this.articlesService.getFilteredArticles().subscribe(t=>{this.articles=t}),this.articlesService.getCurrentArticles().subscribe(t=>{this.articles=t})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(u))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-news-list"]],decls:3,vars:1,consts:[[1,"news-container"],[1,"list-container"],[3,"newsItem",4,"ngFor","ngForOf"],[3,"newsItem"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.xc(2,C,1,1,"app-news-list-item",2),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.lc("ngForOf",e.articles))},directives:[i.j,f],styles:[".news-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center}.news-container[_ngcontent-%COMP%]   .list-container[_ngcontent-%COMP%]{width:60%;height:100%}"]}),t})();const O=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Ib({type:t,selectors:[["app-main-page"]],decls:2,vars:0,template:function(t,e){1&t&&(c.Pb(0,"app-header"),c.Pb(1,"app-news-list"))},directives:[h,m],styles:[""]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[r.c.forChild(O)],r.c]}),t})();var M=n("jAig"),_=n("WJ5W");let x=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},imports:[[i.c,P,M.a,s.n,_.a]]}),t})()}}]);